#!/usr/bin/env ruby

hammer_path = File.expand_path(File.join(File.dirname(__FILE__), '..', 'lib'))
$LOAD_PATH << hammer_path unless $LOAD_PATH.include? hammer_path
require 'ruby-prof'
require 'hammer'

Hammer::Runner.run!

result = RubyProf.stop

File.open 'profile.html', 'w' do |f|
  RubyProf::GraphHtmlPrinter.new(result).print(f)
end
